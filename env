PORT=3003
DB_HOST=192.168.1.125
DB_PORT=3306
DB_USER=root
DB_PASSWORD=Krystal1024.
DB_NAME=weibo

# 允许前端域名，逗号分隔。* 表示放开（开发阶段）
CORS_ORIGINS=*

# 是否启用 JWT 鉴权
REQUIRE_AUTH=true

# JWT 配置
JWT_SECRET=replace-with-a-long-random-secret
JWT_EXPIRES_IN=8h

# 认证来源: env 或 db
AUTH_PROVIDER=db

# 用户表名（AUTH_PROVIDER=db 时生效）
AUTH_USER_TABLE=gateway_users

# 密码哈希成本（bcrypt）
BCRYPT_ROUNDS=12

# 账号配置（AUTH_PROVIDER=env 时生效）
# 格式：username:password_hash_or_plain:role
AUTH_USERS=admin:$2b$12$replace_me:admin;analyst:$2b$12$replace_me:analyst

# 按角色限制可访问表，格式：role:table1|table2;admin:* 表示 admin 可访问所有表
ROLE_TABLES=admin:*;analyst:users|orders|bloggers

# 允许操作的 SQL 类型，逗号分隔：select,insert,update,delete
ALLOWED_SQL_TYPES=select,insert,update,delete,create

# 允许操作的表名，逗号分隔。留空表示不限制（不建议）
ALLOWED_TABLES=users,orders,products,bloggers

# 是否要求 SELECT 必须带 LIMIT
REQUIRE_SELECT_LIMIT=true

# SELECT 最大 LIMIT
MAX_SELECT_LIMIT=500

# 限流配置（/api/sql）
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=60

# 审计日志查询最大条数（/admin/audit-logs）
AUDIT_QUERY_MAX_LIMIT=500

# 审计日志文件
AUDIT_LOG_FILE=./logs/audit.log

# 是否由网关托管前端（Vue dist）
FRONTEND_ENABLED=true

# Vue 打包目录（包含 index.html）
FRONTEND_DIST_DIR=./frontend-dist

CSP_ENABLED=false


# 请求参数加密（AES-256-GCM）
REQUEST_ENCRYPTION_ENABLED=true
REQUEST_ENCRYPTION_ALLOW_PLAINTEXT=true
REQUEST_ENCRYPTION_PASSWORD=Bvs6WHx_4JU67eW-9fr2yMTjrkUdCbp3n9MdydFWLAI

# 初始化用户（npm run auth:init 时使用，可选）
SEED_ADMIN_USERNAME=admin
SEED_ADMIN_PASSWORD=admin123
SEED_ANALYST_USERNAME=analyst
SEED_ANALYST_PASSWORD=analyst123
